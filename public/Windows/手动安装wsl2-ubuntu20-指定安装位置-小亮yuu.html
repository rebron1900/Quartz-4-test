<!DOCTYPE html>
<html><head><title>手动安装wsl2-ubuntu20(指定安装位置)--小亮yuu</title><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:title" content="手动安装wsl2-ubuntu20(指定安装位置)--小亮yuu"/><meta property="og:description" content="系统版本: win10家庭中文版-20H2 1、检查windows版本 若要更新到 WSL 2，需要运行 Windows 10。 对于 x64 系统：版本 1903 或更高版本，采用 内部版本 18362 或更高版本。 对于 ARM64 系统：版本 2004 或更高版本，采用 内部版本 19041 或更高版本。 低于 18362 的版本不支持 WSL 2。 使用 Windows Update 助手更新 Windows 版本。 小亮的是x64版本20H2，可以安装wsl2。 原文地址: 15506352."/><meta property="og:image" content="https://four.quartz.jzhao.xyz/static/og-image.png"/><meta property="og:width" content="1200"/><meta property="og:height" content="675"/><link rel="icon" href="../../static/icon.png"/><meta name="description" content="系统版本: win10家庭中文版-20H2 1、检查windows版本 若要更新到 WSL 2，需要运行 Windows 10。 对于 x64 系统：版本 1903 或更高版本，采用 内部版本 18362 或更高版本。 对于 ARM64 系统：版本 2004 或更高版本，采用 内部版本 19041 或更高版本。 低于 18362 的版本不支持 WSL 2。 使用 Windows Update 助手更新 Windows 版本。 小亮的是x64版本20H2，可以安装wsl2。 原文地址: 15506352."/><meta name="generator" content="Quartz"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link href="../../index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://fonts.googleapis.com/css2?family=IBM Plex Mono&amp;family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap" rel="stylesheet" type="text/css" spa-preserve/><script src="../../prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch(`../../static/contentIndex.json`).then(data => data.json())</script></head><body data-slug="Windows/手动安装wsl2-ubuntu20-指定安装位置-小亮yuu"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h1 class="page-title"><a href="../..">🪴 Quartz 4.0</a></h1><div class="spacer mobile-only"></div><div class="search"><div id="search-icon"><p>Search</p><div></div><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search</title><desc id="desc">Search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></div><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="results-container"></div></div></div></div><div class="darkmode"><input class="toggle" id="darkmode-toggle" type="checkbox" tabindex="-1"/><label id="toggle-label-light" for="darkmode-toggle" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35;" xml:space="preserve"><title>Light mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg></label><label id="toggle-label-dark" for="darkmode-toggle" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'" xml:space="preserve"><title>Dark mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></label></div></div><div class="center"><div class="page-header"><div class="popover-hint"><h1 class="article-title">手动安装wsl2-ubuntu20(指定安装位置)--小亮yuu</h1><p class="content-meta">Aug 08, 2023, 4 min read</p><ul class="tags"><li><a href="../../tags/windows" class="internal tag-link">#windows</a></li></ul></div></div><article class="popover-hint"><p>系统版本: win10家庭中文版-20H2</p>
<p>1、检查windows版本</p>
<p>    若要更新到 WSL 2，需要运行 Windows 10。<br/>
对于 x64 系统：版本 1903 或更高版本，采用 内部版本 18362 或更高版本。<br/>
对于 ARM64 系统：版本 2004 或更高版本，采用 内部版本 19041 或更高版本。<br/>
低于 18362 的版本不支持 WSL 2。 使用 Windows Update 助手更新 Windows 版本。<br/>
小亮的是x64版本20H2，可以安装wsl2。</p>
<p>原文地址: <a href="https://www.cnblogs.com/xiaoliangyuu/p/15506352.html" class="external">15506352.html</a></p>
<p>2、需要先启用“适用于 Linux 的 Windows 子系统”可选功能，然后才能在 Windows 上安装 Linux 分发。以管理员身份打开 PowerShell 并运行：</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="powershell" data-theme="default"><code data-language="powershell" data-theme="default"><span data-line><span style="color:var(--shiki-token-function);">dism.exe</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);">online </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-token-function);">enable-feature</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);">featurename:Microsoft</span><span style="color:var(--shiki-token-keyword);">-</span><span style="color:var(--shiki-color-text);">Windows</span><span style="color:var(--shiki-token-keyword);">-</span><span style="color:var(--shiki-color-text);">Subsystem</span><span style="color:var(--shiki-token-keyword);">-</span><span style="color:var(--shiki-color-text);">Linux </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);">all </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);">norestart</span></span></code></pre></div>
<p>3、安装 WSL 2 之前，必须启用“虚拟机平台”可选功能。 计算机需要虚拟化功能才能使用此功能。 以管理员身份打开 PowerShell 并运行：</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="powershell" data-theme="default"><code data-language="powershell" data-theme="default"><span data-line><span style="color:var(--shiki-token-function);">dism.exe</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);">online </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-token-function);">enable-feature</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);">featurename:VirtualMachinePlatform </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);">all </span><span style="color:var(--shiki-token-keyword);">/</span><span style="color:var(--shiki-color-text);">norestart</span></span></code></pre></div>
<p>4、重启计算机</p>
<p>5、安装 wsl_update_x64. msi。下载地址: <a href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi" class="external">适用于 x64 计算机的 WSL2 Linux 内核更新包</a>
Win10 系统下安装 TortoiseSvn、Node. js 时（. msi 后缀的安装文件），在点击安装时老是提示 2503，2502 错误，因此无法安装上。</p>
<p>搜索了下一般都提到是权限不够引起的该问题。但是右键点击时发现msi是没有“以管理员身份运行”的选项的，而使用“取得管理员权限”选项也没有任何作用。</p>
<p>解决办法：</p>
<p>管理员身份运行模式的命令行的窗口了，输入如下的命令：</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="bash" data-theme="default"><code data-language="bash" data-theme="default"><span data-line><span style="color:var(--shiki-token-function);">msiexec</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string);">/package</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&quot;your msi file path&quot;</span></span></code></pre></div>
<p><img src="../../Rsources/Assets/Pasted-image-20230115113608.png" alt/></p>
<p>然后就弹出软件的安装窗口，一路安装，就OK了。</p>
<p>6、将 WSL 2 设置为默认版本</p>
<div data-rehype-pretty-code-fragment><pre style="background-color:var(--shiki-color-background);" tabindex="0" data-language="powershell" data-theme="default"><code data-language="powershell" data-theme="default"><span data-line><span style="color:var(--shiki-color-text);">wsl </span><span style="color:var(--shiki-token-keyword);">--</span><span style="color:var(--shiki-token-function);">set-default</span><span style="color:var(--shiki-token-keyword);">-</span><span style="color:var(--shiki-color-text);">version </span><span style="color:var(--shiki-token-constant);">2</span></span></code></pre></div>
<p>7、下载发行版，可以参考 <a href="https://docs.microsoft.com/zh-cn/windows/wsl/install-manual#downloading-distributions" class="external">下载发行版</a>，小亮这里下载的是 Ubuntu 20.04</p>
<p>8、将下载的文件复制到想要安装的位置,修改文件后缀名: Ubuntu_2004.2020.424.0_x64.appx -> Ubuntu_2004.2020.424.0_x64.zip</p>
<p>9、解压文件，并双击 ubuntu2004.exe 安装。安装成功后设置用户名密码,安装成功。可以看到在安装目录下，有一个 *.vhdx 文件，即是linux的磁盘镜像文件。</p>
<p>原文地址: <a href="https://www.cnblogs.com/xiaoliangyuu/p/15506352.html" class="external">15506352.html</a></p>
<p>10、其他</p>
<p>     10.1 验证wsl是否是 wsl2 的命令: wsl -l -v</p>
<p>     10.2 启动方法。</p>
<p>          方法一:命令行:cmd进入命令行。输入 wsl 进入。  </p>
<p>          方法二:双击 ubuntu2004.exe 启动  </p>
<p>          方法三:开始菜单启动: 安装到开始菜单:随便找一个开始菜单应用 右键-打开所在文件夹 在start menu文件夹下添加ubuntu2004.exe的快捷方式</p>
<p>     10.3 卸载 1、wsl —unregister &lt;要卸载的发行版>   2、删除安装目录</p></article></div><div class="right sidebar"><div class="graph"><h3>Graph View</h3><div class="graph-outer"><div id="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1}"></div><svg version="1.1" id="global-graph-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
	s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
	c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
	C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
	c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
	v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
	s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
	C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
	S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
	s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
	s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></div><div id="global-graph-outer"><div id="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1}"></div></div></div><div class="backlinks"><h3>Backlinks</h3><ul class="overflow"><li>No backlinks found</li></ul></div></div></div><footer><hr/><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.0.7</a>, © 2023</p><ul><li><a href="https://github.com/jackyzha0/quartz">GitHub</a></li><li><a href="https://discord.gg/cRFFHYye7t">Discord Community</a></li></ul></footer></div></body><script type="application/javascript">// quartz/components/scripts/quartz/components/scripts/callout.inline.ts
function toggleCallout() {
  const outerBlock = this.parentElement;
  outerBlock.classList.toggle(`is-collapsed`);
  const collapsed = outerBlock.classList.contains(`is-collapsed`);
  const height = collapsed ? this.scrollHeight : outerBlock.scrollHeight;
  outerBlock.style.maxHeight = height + `px`;
  let current = outerBlock;
  let parent = outerBlock.parentElement;
  while (parent) {
    if (!parent.classList.contains(`callout`)) {
      return;
    }
    const collapsed2 = parent.classList.contains(`is-collapsed`);
    const height2 = collapsed2 ? parent.scrollHeight : parent.scrollHeight + current.scrollHeight;
    parent.style.maxHeight = height2 + `px`;
    current = parent;
    parent = parent.parentElement;
  }
}
function setupCallout() {
  const collapsible = document.getElementsByClassName(
    `callout is-collapsible`
  );
  for (const div of collapsible) {
    const title = div.firstElementChild;
    if (title) {
      title.removeEventListener(`click`, toggleCallout);
      title.addEventListener(`click`, toggleCallout);
      const collapsed = div.classList.contains(`is-collapsed`);
      const height = collapsed ? title.scrollHeight : div.scrollHeight;
      div.style.maxHeight = height + `px`;
    }
  }
}
document.addEventListener(`nav`, setupCallout);
window.addEventListener(`resize`, setupCallout);
</script><script type="module">
          import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
          const darkMode = document.documentElement.getAttribute('saved-theme') === 'dark'
          mermaid.initialize({ 
            startOnLoad: false,
            securityLevel: 'loose',
            theme: darkMode ? 'dark' : 'default'
          });
          document.addEventListener('nav', async () => {
            await mermaid.run({
              querySelector: '.mermaid'
            })
          });
          </script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script type="application/javascript">
          const socket = new WebSocket('ws://localhost:3001')
          socket.addEventListener('message', () => document.location.reload())
        </script><script src="../../postscript.js" type="module"></script></html>